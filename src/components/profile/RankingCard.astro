---
import type { PersonalitySummary } from "@/types/personality";
import CardWrapper from "./CardWrapper.astro";

type Props = {
  totalPackagesUploaded: PersonalitySummary["totalPackagesUploaded"];
  totalPackagesUploadedComparitive: PersonalitySummary["totalPackagesUploadedComparitive"];
};
const { totalPackagesUploadedComparitive, totalPackagesUploaded } = Astro.props;

const processedRank = () => {
  const isAboveAverage =
  totalPackagesUploadedComparitive > 0

  return {
    measurement: {
      spatial: isAboveAverage ? "above" : "below",
      quantitative: isAboveAverage ? "more" : "fewer",
    },
  };
};
---

<CardWrapper name="ranking">
  <div class="grid gap-4 place-items-center place-content-center">
    <p class="text-white/70 text-pretty">
      With {totalPackagesUploaded} packages installed, youâ€™ve installed {
        totalPackagesUploadedComparitive
      }
      {processedRank().measurement.quantitative} packages when compared to the average
      uploader.
    </p>
    <p
      class="text-xl uppercase text-balance leading-heading tracking-widest font-mono"
    >
      {totalPackagesUploadedComparitive}
      {processedRank().measurement.spatial} average
    </p>
  </div>
</CardWrapper>
