---
import type { BrewsItem } from "@/types/brews";
import Link from "../ui/Link.astro";
import { Icon } from "astro-icon/components";
import AvatarButton from "./AvatarButton.astro";
import { getRandomWord } from "@/lib/getRandomValue";

type Props = {
  item: BrewsItem;
};

const { item } = Astro.props;

const USERNAME = "theRubberDuckiee";
const GITHUB_LINK = "https://github.com/theRubberDuckiee";
const GITHUB_IMAGE =
  "https://avatars.githubusercontent.com/u/13528197?s=48&v=4";
---

<article
  class="bg-white/5 p-6 rounded-3xl backdrop-blur-4xl flex justify-between relative animate-pulse"
>
  <ul class="font-mono text-2xl uppercase tracking-widest">
    {
      Array.from({ length: 7 }).map((i) => (
        <li>
          <Link variant={"nav"} href="#" class="break-all" data-randomize>
            {getRandomWord()}
          </Link>
        </li>
      ))
    }
  </ul>
  <div class="flex flex-col justify-between z-50">
    <Link variant="accent" size="icon" href={"#"}>
      <div class="bg-white/7 size-9 grid place-items-center rounded-full">
        <Icon name="external-link" size={13} aria-hidden="true" />
      </div>
    </Link>
    <AvatarButton />
  </div>
</article>

<script>
  import { getRandomWord } from "@/lib/getRandomValue";

  const packageNames = document.querySelectorAll("[data-randomize]");
  packageNames.forEach(async (p) => {
    p.textContent = getRandomWord();
    setInterval(() => (p.textContent = getRandomWord()), 80);
  });
</script>
